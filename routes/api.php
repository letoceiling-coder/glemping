<?php

use App\Http\Controllers\Api\v1\PassportAuthController;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Route;

/*
|--------------------------------------------------------------------------
| API Routes
|--------------------------------------------------------------------------
|
| Here is where you can register API routes for your application. These
| routes are loaded by the RouteServiceProvider and all of them will
| be assigned to the "api" middleware group. Make something great!
|
*/

Route::middleware('auth:sanctum')->get('/user', function (Request $request) {
    return $request->user();
});

Route::post('user/register', [PassportAuthController::class, 'register']);
Route::post('user/login', [PassportAuthController::class, 'login']);
Route::post('user/forgot-email', [PassportAuthController::class, 'forgetToken']);

Route::post('images/dropzone/store', [\App\Http\Controllers\Api\v1\ImageController::class, 'dropzoneStore']);

Route::middleware('auth:api')->group(function () {



/////////////////////////////////////////////////SystemTypeController/////////////////////////////////////////////////////////////////////
///
    Route::post('guest/count',[\App\Http\Controllers\Api\v1\AdminController::class,'guest']);
    Route::apiResource('system_types',\App\Http\Controllers\Api\v1\SystemTypeController::class);
///
//////////////////////////////////////////////END SystemTypeController////////////////////////////////////////////////////////////////////




    Route::get('user', [PassportAuthController::class, 'user']);
    Route::post('user/logout', [PassportAuthController::class, 'logout']);
    Route::put('user/update', [PassportAuthController::class, 'update']);


    Route::apiResource('test',\App\Http\Controllers\Api\v1\TestController::class);

/////////////////////////////////////////////////ImageController/////////////////////////////////////////////////////////////////////
///

    Route::post('images/folder/to', [\App\Http\Controllers\Api\v1\ImageController::class, 'imageToFolder']);
    Route::delete('images/delete/ids', [\App\Http\Controllers\Api\v1\ImageController::class, 'imageDeleteIds']);
    Route::post('images/crop/image', [\App\Http\Controllers\Api\v1\ImageController::class, 'imageCrop']);
    Route::post('images/video/download', [\App\Http\Controllers\Api\v1\ImageController::class, 'videoDownload']);

///
//////////////////////////////////////////////END ImageController////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////FolderController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('folders',\App\Http\Controllers\Api\v1\FolderController::class);
    Route::get('folders/slug/{slug}', [\App\Http\Controllers\Api\v1\FolderController::class, 'slug']);
    Route::delete('folders/folders/delete', [\App\Http\Controllers\Api\v1\FolderController::class, 'deleteFolders']);
///
//////////////////////////////////////////////END FolderController////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////UserController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('users',\App\Http\Controllers\Api\v1\UserController::class);
    Route::get('users/fields/get', [\App\Http\Controllers\Api\v1\UserController::class, 'fields']);
///
//////////////////////////////////////////////END UserController////////////////////////////////////////////////////////////////////



/////////////////////////////////////////////////UserRoleController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('user_roles',\App\Http\Controllers\Api\v1\UserRoleController::class);
    Route::get('user_roles/fields/get', [\App\Http\Controllers\Api\v1\UserRoleController::class, 'fields']);
///
//////////////////////////////////////////////END UserRoleController////////////////////////////////////////////////////////////////////






/////////////////////////////////////////////////UserRoleController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('genders',\App\Http\Controllers\Api\v1\GenderController::class);
    Route::get('genders/fields/get', [\App\Http\Controllers\Api\v1\GenderController::class, 'fields']);
///
//////////////////////////////////////////////END UserRoleController////////////////////////////////////////////////////////////////////



/////////////////////////////////////////////////CurrencyController/////////////////////////////////////////////////////////////////////
///

    Route::get('currencies/fields/get', [\App\Http\Controllers\Api\v1\CurrencyController::class, 'fields']);
///
//////////////////////////////////////////////END CurrencyController////////////////////////////////////////////////////////////////////



/////////////////////////////////////////////////CurrencyController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('tags',\App\Http\Controllers\Api\v1\TagController::class);
    Route::get('tags/fields/get', [\App\Http\Controllers\Api\v1\TagController::class, 'fields']);
///
//////////////////////////////////////////////END CurrencyController////////////////////////////////////////////////////////////////////





/////////////////////////////////////////////////ColorController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('colors',\App\Http\Controllers\Api\v1\ColorController::class);
    Route::get('colors/fields/get', [\App\Http\Controllers\Api\v1\ColorController::class, 'fields']);
///
//////////////////////////////////////////////END ColorController////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////SettingsController/////////////////////////////////////////////////////////////////////
///
    Route::apiResource('settings',\App\Http\Controllers\Api\v1\SettingsController::class);
///
//////////////////////////////////////////////END SettingsController////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////AdminController/////////////////////////////////////////////////////////////////////
///
        Route::post('admin/menus', [\App\Http\Controllers\Api\v1\AdminController::class, 'getMenus']);
        Route::post('admin/menu/{name}', [\App\Http\Controllers\Api\v1\AdminController::class, 'getMenu']);
///
//////////////////////////////////////////////END AdminController////////////////////////////////////////////////////////////////////
///

////////////////////////////////////////////////////MenuController////////////////////////////////////////////////////////
///

    Route::apiResource('menus',\App\Http\Controllers\Api\v1\MenuController::class);

    Route::post('menus/update-sort', [\App\Http\Controllers\Api\v1\MenuController::class, 'updateSort']);

///
////////////////////////////////////////////////////END MenuController////////////////////////////////////////////////////////

////////////////////////////////////////////////////MenuController////////////////////////////////////////////////////////
///

    Route::apiResource('menus-footer',\App\Http\Controllers\Api\v1\MenuFooterController::class);

    Route::post('menus-footer/update-sort', [\App\Http\Controllers\Api\v1\MenuFooterController::class, 'updateSort']);

///
////////////////////////////////////////////////////END MenuController////////////////////////////////////////////////////////


////////////////////////////////////////////////////CategoryController////////////////////////////////////////////////////////
///

    Route::apiResource('categories',\App\Http\Controllers\Api\v1\CategoryController::class);

    Route::post('categories/update-sort', [\App\Http\Controllers\Api\v1\CategoryController::class, 'updateSort']);
    Route::post('categories/tags/sync', [\App\Http\Controllers\Api\v1\CategoryController::class, 'tagsSync']);

///
////////////////////////////////////////////////////END CategoryController////////////////////////////////////////////////////////

////////////////////////////////////////////////////MenuController////////////////////////////////////////////////////////
///

    Route::apiResource('pages',\App\Http\Controllers\Api\v1\PageController::class);


///
////////////////////////////////////////////////////END MenuController////////////////////////////////////////////////////////
///
///


    Route::post('default/values/change/{key}', [\App\Http\Controllers\Api\v1\DefaultValueController::class, 'defaultValuesChange']);

});




/////////////////////////////////////////////////SizeController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('sizes',\App\Http\Controllers\Api\v1\SizeController::class);
Route::get('sizes/fields/get', [\App\Http\Controllers\Api\v1\SizeController::class, 'fields']);
Route::post('sizes/add/tag', [\App\Http\Controllers\Api\v1\SizeController::class, 'addTag']);
Route::post('sizes/add/tags', [\App\Http\Controllers\Api\v1\SizeController::class, 'addTags']);


///
//////////////////////////////////////////////END SizeController////////////////////////////////////////////////////////////////////

Route::get('pages/get/page', [\App\Http\Controllers\Api\v1\PageController::class, 'page']);
Route::get('menus', [\App\Http\Controllers\Api\v1\MenuController::class, 'index']);


//
//Route::apiResource('properties',\App\Http\Controllers\Api\v1\PropertyController::class);
//Route::put('properties/sort/update', [\App\Http\Controllers\Api\v1\PropertyController::class, 'sorter']);

/// ////////////////////////////////////////////////////GeoController////////////////////////////////////////////////////////////
//
Route::get('geo/regions', [\App\Http\Controllers\Api\v1\GeoController::class, 'regions']);
Route::get('geo/cities', [\App\Http\Controllers\Api\v1\GeoController::class, 'cities']);
Route::get('geo/metro', [\App\Http\Controllers\Api\v1\GeoController::class, 'metro']);
//
//////////////////////////////////////////////////////END GeoController////////////////////////////////////////////////////////
Route::apiResource('currencies',\App\Http\Controllers\Api\v1\CurrencyController::class);



/////////////////////////////////////////////////OfferController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('offers',\App\Http\Controllers\Api\v1\OfferController::class);
Route::get('offers/fields/get', [\App\Http\Controllers\Api\v1\OfferController::class, 'fields']);
///
//////////////////////////////////////////////END OfferController////////////////////////////////////////////////////////////////////



/////////////////////////////////////////////////PropertyController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('properties',\App\Http\Controllers\Api\v1\PropertyController::class);
Route::get('properties/fields/get', [\App\Http\Controllers\Api\v1\PropertyController::class, 'fields']);
///
//////////////////////////////////////////////END PropertyController////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////IncludeController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('include_services',\App\Http\Controllers\Api\v1\IncludeController::class);
Route::get('include_services/fields/get', [\App\Http\Controllers\Api\v1\IncludeController::class, 'fields']);
///
//////////////////////////////////////////////END IncludeController////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////IncludeController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('reviews',\App\Http\Controllers\Api\v1\ReviewsController::class);
Route::get('reviews/fields/get', [\App\Http\Controllers\Api\v1\ReviewsController::class, 'fields']);
///
//////////////////////////////////////////////END IncludeController////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////ServiceController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('services',\App\Http\Controllers\Api\v1\ServiceController::class);
Route::get('services/fields/get', [\App\Http\Controllers\Api\v1\ServiceController::class, 'fields']);
///
//////////////////////////////////////////////END ServiceController////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////OptionController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('options',\App\Http\Controllers\Api\v1\OptionController::class);
Route::get('options/fields/get', [\App\Http\Controllers\Api\v1\OptionController::class, 'fields']);
///
//////////////////////////////////////////////END OptionController////////////////////////////////////////////////////////////////////



/////////////////////////////////////////////////SpecialOfferController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('special_offers',\App\Http\Controllers\Api\v1\SpecialOfferController::class);
Route::get('special_offers/fields/get', [\App\Http\Controllers\Api\v1\SpecialOfferController::class, 'fields']);
///
//////////////////////////////////////////////END SpecialOfferController////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////SeoPageController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('seo_pages',\App\Http\Controllers\Api\v1\SeoPageController::class);
Route::get('seo_pages/fields/get', [\App\Http\Controllers\Api\v1\SeoPageController::class, 'fields']);
///
//////////////////////////////////////////////END SeoPageController////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////ImageController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('images',\App\Http\Controllers\Api\v1\ImageController::class);

///
/////////////////////////////////////////////////ReviewController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('forms',\App\Http\Controllers\Api\v1\FormController::class);
Route::get('forms/fields/get', [\App\Http\Controllers\Api\v1\FormController::class, 'fields']);
///
//////////////////////////////////////////////END ReviewController////////////////////////////////////////////////////////////////////

///
/////////////////////////////////////////////////StockController/////////////////////////////////////////////////////////////////////
///
Route::apiResource('stocks',\App\Http\Controllers\Api\v1\StockController::class);
Route::get('stocks/fields/get', [\App\Http\Controllers\Api\v1\StockController::class, 'fields']);
///
//////////////////////////////////////////////END StockController////////////////////////////////////////////////////////////////////


Route::post('email/send', [\App\Http\Controllers\Api\v1\EmailController::class, 'send']);
Route::get('test', [\App\Http\Controllers\Api\v1\TestController::class, 'index']);

Route::post('leave-request', [\App\Http\Controllers\Api\v1\Form\LeaveRequestController::class,'send']);

/////////////////////////////////////////////////DeployController/////////////////////////////////////////////////////////////////////
///
Route::post('deploy', [\App\Http\Controllers\Api\DeployController::class, 'deploy'])
    ->middleware(\App\Http\Middleware\VerifyDeployToken::class);
///
//////////////////////////////////////////////END DeployController////////////////////////////////////////////////////////////////////
